<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>南航主桌 - 最終展示版 (修正)</title>
    <style>
        /* 深色背景 */
        body { font-family: "Microsoft JhengHei", sans-serif; background: #1a1a1a; display: flex; flex-direction: column; align-items: center; padding: 30px; color: #fff; }
        
        /* 控制區 */
        .controls {
            background: rgba(255,255,255,0.05); padding: 20px; border-radius: 20px;
            width: auto; margin-bottom: 40px; text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .btn-group { display: flex; justify-content: center; gap: 30px; margin: 0; }
        .btn {
            padding: 15px 40px; font-size: 22px; font-weight: bold; border: none; border-radius: 50px; cursor: pointer; transition: 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3); color: white; letter-spacing: 2px;
        }
        .btn-director { background: linear-gradient(135deg, #c0392b, #e74c3c); }
        .btn-chief { background: linear-gradient(135deg, #2980b9, #3498db); }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,0.5); }

        /* 隱藏輸入區 */
        .input-area { display: none !important; }

        /* 桌子顯示容器 - 【修正：移除軸承樣式】 */
        .table-container {
            position: relative; width: 850px; height: 850px;
            background: transparent; /* 背景透明 */
            border-radius: 50%;
            border: none; /* 移除邊框 */
            box-shadow: none; /* 移除陰影 */
            display: flex; justify-content: center; align-items: center;
            /* overflow: hidden; 移除此行以免切到陰影 */
        }

        /* 中央大圓桌 */
        .main-table {
            width: 450px; height: 450px;
            background: linear-gradient(135deg, #b8860b 0%, #e0c38c 100%); /* 金色漸層 */
            border: 8px solid #7a4f23; /* 深棕色邊框 */
            border-radius: 50%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 1; transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .table-text { font-size: 80px; font-weight: 900; color: #3e2714; opacity: 0.9; letter-spacing: 5px; text-shadow: 1px 1px 2px rgba(255,255,255,0.2); }
        
        /* 【修正：標示改為藍字】 */
        .current-view-text { 
            font-size: 24px; 
            color: #3498db; /* 改為亮藍色 */
            font-weight: bold; margin-top: 15px; 
            background: rgba(0,0,0,0.2); /* 深色半透明背景 */
            padding: 5px 25px; border-radius: 30px; 
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        /* 座位容器 */
        .seats-layer {
            position: absolute; width: 100%; height: 100%;
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            pointer-events: none; /* 讓點擊穿透 */
        }

        /* 座位圓圈 */
        .seat {
            position: absolute; width: 150px; height: 150px;
            background: linear-gradient(to bottom, #333, #222); /* 深色座位 */
            border: 2px solid #555; border-radius: 50%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            left: 50%; top: 50%; margin-left: -75px; margin-top: -75px;
        }
        
        /* 座位內容 */
        .seat-content {
            width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
        }

        /* 內容樣式 (深色主題文字) */
        .unit { font-size: 13px; color: #aaa; font-weight: bold; line-height: 1.2; margin-bottom: 3px; width: 90%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .title { font-size: 14px; color: #ccc; font-weight: bold; line-height: 1.2; margin-bottom: 2px; }
        .name { font-size: 22px; color: #fff; font-weight: 900; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }

        /* 特別標示 (主角 - 改為金色/藍色系以配合深色背景) */
        .seat.target { 
            border-color: #3498db; /* 藍色邊框 */
            background: linear-gradient(to bottom, #2c3e50, #1a252f);
            transform: scale(1.15); z-index: 10; 
            box-shadow: 0 0 30px rgba(52, 152, 219, 0.6); 
        }
        .seat.target .name { color: #3498db; } /* 藍色名字 */
        .seat.target .unit, .seat.target .title { color: #bdc3c7; }

        @media print {
            .controls { display: none; }
            .table-container { box-shadow: none; }
            body { background: white; color: black; }
            .seat { background: white; border: 2px solid #333; }
            .unit, .title { color: #555; }
            .name { color: #000; text-shadow: none; }
            .current-view-text { color: #000; background: none; border: none; }
        }
    </style>
</head>
<body>

    <div class="controls">
        <div class="btn-group">
            <button class="btn btn-director" onclick="switchView(0, '葉協隆 局長')">⬇️ 局長視角</button>
            <button class="btn btn-chief" onclick="switchView(6, '張博彥 主任')">⬇️ 主任視角</button>
        </div>
        
        <div class="input-area">
            <input id="u0" value="交通部航港局"><input id="t0" value="局長"><input id="n0" value="葉協隆">
            <input id="u1" value="高雄港警總隊"><input id="t1" value="總隊長"><input id="n1" value="廖國政">
            <input id="u2" value="港務消防大隊"><input id="t3" value="副大隊長"><input id="n3" value="戴國仰">
            <input id="u3" value="疾管署高屏管制中心"><input id="t2" value="主任"><input id="n2" value="王任鑫">
            <input id="u4" value="驗船中心"><input id="t4" value="處長"><input id="n4" value="高世榮">
            <input id="u5" value="國際輪船公會"><input id="t5" value="理事長"><input id="n5" value="吳岳峯">
            <input id="u6" value="南部航務中心"><input id="t6" value="主任"><input id="n6" value="張博彥">
            <input id="u7" value="前主秘"><input id="t7" value=""><input id="n7" value="余建勳">
            <input id="u8" value="裝卸公會"><input id="t8" value="理事長"><input id="n8" value="黃德成">
            <input id="u9" value="引水人辦事處"><input id="t9" value="主任"><input id="n9" value="陳策勤">
            <input id="u10" value="倉庫公會"><input id="t10" value="理事長"><input id="n10" value="駱啟明">
            <input id="u11" value="船代公會"><input id="t11" value="理事長"><input id="n11" value="顏銘傳">
        </div>
    </div>

    <div class="table-container">
        <div class="main-table">
            <div class="table-text">主 桌</div>
            <div class="current-view-text" id="viewLabel">目前：局長視角</div>
        </div>

        <div class="seats-layer" id="seatsLayer">
            </div>
    </div>

<script>
    const radius = 320; 
    const seatsLayer = document.getElementById('seatsLayer');
    const viewLabel = document.getElementById('viewLabel');

    function init() {
        for (let i = 0; i < 12; i++) {
            const seat = document.createElement('div');
            seat.className = 'seat';
            seat.id = `seat-${i}`;
            const content = document.createElement('div');
            content.className = 'seat-content';
            content.id = `content-${i}`;
            seat.appendChild(content);
            seatsLayer.appendChild(seat);
        }
        updateNames();
        switchView(0, '葉協隆 局長');
    }

    function updateNames() {
        for (let i = 0; i < 12; i++) {
            const unit = document.getElementById(`u${i}`).value;
            const title = document.getElementById(`t${i}`).value;
            const name = document.getElementById(`n${i}`).value;
            const contentDiv = document.getElementById(`content-${i}`);
            const titleHtml = title ? `<div class="title">${title}</div>` : '';
            contentDiv.innerHTML = `<div class="unit">${unit}</div>${titleHtml}<div class="name">${name}</div>`;
        }
    }

    function switchView(targetIndex, labelText) {
        viewLabel.innerText = "目前：" + labelText;
        const rotation = 180 - (targetIndex * 30);
        seatsLayer.style.transform = `rotate(${rotation}deg)`;
        for (let i = 0; i < 12; i++) {
            const seat = document.getElementById(`seat-${i}`);
            const content = document.getElementById(`content-${i}`);
            const seatAngle = i * 30;
            seat.style.transform = `rotate(${seatAngle}deg) translate(0, -${radius}px)`;
            content.style.transform = `rotate(${-(rotation + seatAngle)}deg)`;
            if (i === targetIndex) seat.classList.add('target');
            else seat.classList.remove('target');
        }
    }
    init();
</script>

</body>
</html>
